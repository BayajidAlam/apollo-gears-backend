<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 400">
  <defs>
    <style>
      .layer-text { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .layer-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: white; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .return-arrow { stroke: #10b981; stroke-width: 2; fill: none; stroke-dasharray: 5,5; marker-end: url(#arrowhead-green); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="950" height="400" fill="#fafafa"/>

  <!-- CLIENT -->
  <g transform="translate(30, 120)">
    <rect width="120" height="140" rx="12" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="2"/>
    <rect width="120" height="30" rx="12" fill="#0ea5e9"/>
    <text x="60" y="20" text-anchor="middle" class="layer-title">CLIENT</text>
    <text x="60" y="55" text-anchor="middle" font-size="24">ğŸ’»</text>
    <text x="60" y="85" text-anchor="middle" class="layer-text">Web App</text>
    <text x="60" y="100" text-anchor="middle" class="layer-text">Mobile App</text>
    <text x="60" y="115" text-anchor="middle" class="layer-text">Postman</text>
  </g>

  <!-- API LAYER -->
  <g transform="translate(200, 70)">
    <rect width="160" height="240" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
    <rect width="160" height="30" rx="12" fill="#f59e0b"/>
    <text x="80" y="20" text-anchor="middle" class="layer-title">API LAYER</text>
    <text x="80" y="60" text-anchor="middle" font-size="20">ğŸŒ</text>
    <text x="80" y="85" text-anchor="middle" class="layer-text">Express Routes</text>
    <line x1="20" y1="100" x2="140" y2="100" stroke="#e5e7eb" stroke-width="1"/>
    <text x="80" y="125" text-anchor="middle" font-size="16">ğŸ”</text>
    <text x="80" y="145" text-anchor="middle" class="layer-text">Auth Middleware</text>
    <text x="80" y="160" text-anchor="middle" class="layer-text">(JWT Verify)</text>
    <line x1="20" y1="175" x2="140" y2="175" stroke="#e5e7eb" stroke-width="1"/>
    <text x="80" y="200" text-anchor="middle" font-size="16">âœ…</text>
    <text x="80" y="220" text-anchor="middle" class="layer-text">Zod Validation</text>
  </g>

  <!-- BUSINESS LOGIC -->
  <g transform="translate(410, 100)">
    <rect width="140" height="180" rx="12" fill="#d1fae5" stroke="#10b981" stroke-width="2"/>
    <rect width="140" height="30" rx="12" fill="#10b981"/>
    <text x="70" y="20" text-anchor="middle" class="layer-title">BUSINESS</text>
    <text x="70" y="60" text-anchor="middle" font-size="20">âš™ï¸</text>
    <text x="70" y="85" text-anchor="middle" class="layer-text">Controllers</text>
    <line x1="20" y1="100" x2="120" y2="100" stroke="#e5e7eb" stroke-width="1"/>
    <text x="70" y="130" text-anchor="middle" font-size="20">ğŸ”§</text>
    <text x="70" y="155" text-anchor="middle" class="layer-text">Services</text>
  </g>

  <!-- DATA LAYER -->
  <g transform="translate(600, 120)">
    <rect width="120" height="140" rx="12" fill="#ede9fe" stroke="#8b5cf6" stroke-width="2"/>
    <rect width="120" height="30" rx="12" fill="#8b5cf6"/>
    <text x="60" y="20" text-anchor="middle" class="layer-title">DATA</text>
    <text x="60" y="60" text-anchor="middle" font-size="20">ğŸ“¦</text>
    <text x="60" y="85" text-anchor="middle" class="layer-text">Prisma ORM</text>
    <text x="60" y="105" text-anchor="middle" class="layer-text">Client</text>
  </g>

  <!-- DATABASE -->
  <g transform="translate(770, 130)">
    <ellipse cx="60" cy="15" rx="55" ry="15" fill="#ec4899"/>
    <rect x="5" y="15" width="110" height="90" fill="#ec4899"/>
    <ellipse cx="60" cy="105" rx="55" ry="15" fill="#be185d"/>
    <ellipse cx="60" cy="15" rx="55" ry="15" fill="#f472b6"/>
    <text x="60" y="55" text-anchor="middle" class="layer-title">PostgreSQL</text>
    <text x="60" y="75" text-anchor="middle" font-size="20">ğŸ—„ï¸</text>
  </g>

  <!-- Arrows -->
  <line x1="150" y1="190" x2="195" y2="190" class="arrow"/>
  <text x="160" y="180" font-size="9" fill="#666">HTTP</text>
  
  <line x1="360" y1="190" x2="405" y2="190" class="arrow"/>
  
  <line x1="550" y1="190" x2="595" y2="190" class="arrow"/>
  
  <line x1="720" y1="190" x2="765" y2="190" class="arrow"/>
  <text x="730" y="180" font-size="9" fill="#666">SQL</text>

  <!-- Return Arrow -->
  <path d="M 830 250 L 830 340 L 90 340 L 90 265" class="return-arrow"/>
  <text x="450" y="360" text-anchor="middle" font-size="11" fill="#10b981">JSON Response</text>

  <!-- Title -->
  <text x="475" y="35" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#1f2937">Data Flow Diagram - Apollo Gears API</text>
</svg>
